!function(n){"use strict";function t(n){function t(){if(i("when")){if(d(n))return j(n),i("until");j(n,function(){i("until")})}}function i(r){return g(n,r)?(v(n),h(n)?x(n):A(t,b(n)),!1):!0}n=r(n),t()}function r(n){return{count:0,when:i(n.when),until:i(n.until),action:o(n.action),fail:o(n.fail),interval:a(n.interval,-1e3),limit:a(n.limit,-1),context:p(n.context),args:m(n.args)}}function i(n){return f(n,u,e)}function u(n){return"function"==typeof n}function e(){return!0}function o(n){return f(n,u,c)}function c(){}function f(n,t,r){return t(n)?n:r}function a(n,t){return f(n,l,t)}function l(n){return"number"==typeof n&&n===n}function p(n){return f(n,s,{})}function s(n){return"object"==typeof n&&null!==n&&y(n)===!1}function y(n){return Array.isArray?Array.isArray(n):"[object Array]"===Object.prototype.toString.call(n)}function m(n){return f(n,y,[])}function d(n){return 0===n.action.length}function g(n,t){return!n[t].apply(n.context,n.args)}function v(n){n.count+=1}function h(n){return n.limit>=0&&n.count>=n.limit}function x(n){n.fail.apply(n.context,n.args)}function b(n){var t=n.interval;return n.interval<0&&(n.interval*=2),t}function A(n,t){setTimeout(n,Math.abs(t))}function j(n,t){n.action.apply(n.context,t?n.args.concat(t):n.args)}function w(){"function"==typeof define&&define.amd?define(function(){return M}):"undefined"!=typeof module&&null!==module?module.exports=M:n.trier=M}var M={attempt:t};w()}(this);